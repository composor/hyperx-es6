{"version":3,"file":"hyperx-es6.js","sources":["../index.js"],"sourcesContent":["var transform = {\n  'class': 'className',\n  'for': 'htmlFor',\n  'http-equiv': 'httpEquiv'\n}\n\nfunction attrToProp (h) {\n  return function (tagName, attrs, children) {\n    for (var attr in attrs) {\n      if (attr in transform) {\n        attrs[transform[attr]] = attrs[attr]\n        delete attrs[attr]\n      }\n    }\n    return h(tagName, attrs, children)\n  }\n}\n\nvar VAR = 0, TEXT = 1, OPEN = 2, CLOSE = 3, ATTR = 4\nvar ATTR_KEY = 5, ATTR_KEY_W = 6\nvar ATTR_VALUE_W = 7, ATTR_VALUE = 8\nvar ATTR_VALUE_SQ = 9, ATTR_VALUE_DQ = 10\nvar ATTR_EQ = 11, ATTR_BREAK = 12\nvar COMMENT = 13\n\nexport function hyperx(h, opts) {\n  if (!opts) opts = {}\n  var concat = opts.concat || function (a, b) {\n    return String(a) + String(b)\n  }\n  if (opts.attrToProp !== false) {\n    h = attrToProp(h)\n  }\n\n  return function (strings) {\n    var state = TEXT, reg = ''\n    var arglen = arguments.length\n    var parts = []\n\n    for (var i = 0; i < strings.length; i++) {\n      if (i < arglen - 1) {\n        var arg = arguments[i+1]\n        var p = parse(strings[i])\n        var xstate = state\n        if (xstate === ATTR_VALUE_DQ) xstate = ATTR_VALUE\n        if (xstate === ATTR_VALUE_SQ) xstate = ATTR_VALUE\n        if (xstate === ATTR_VALUE_W) xstate = ATTR_VALUE\n        if (xstate === ATTR) xstate = ATTR_KEY\n        p.push([ VAR, xstate, arg ])\n        parts.push.apply(parts, p)\n      } else parts.push.apply(parts, parse(strings[i]))\n    }\n\n    var tree = [null,{},[]]\n    var stack = [[tree,-1]]\n    for (var i = 0; i < parts.length; i++) {\n      var cur = stack[stack.length-1][0]\n      var p = parts[i], s = p[0]\n      if (s === OPEN && /^\\//.test(p[1])) {\n        var ix = stack[stack.length-1][1]\n        if (stack.length > 1) {\n          stack.pop()\n          stack[stack.length-1][0][2][ix] = h(\n            cur[0], cur[1], cur[2].length ? cur[2] : undefined\n          )\n        }\n      } else if (s === OPEN) {\n        var c = [p[1],{},[]]\n        cur[2].push(c)\n        stack.push([c,cur[2].length-1])\n      } else if (s === ATTR_KEY || (s === VAR && p[1] === ATTR_KEY)) {\n        var key = ''\n        var copyKey\n        for (; i < parts.length; i++) {\n          if (parts[i][0] === ATTR_KEY) {\n            key = concat(key, parts[i][1])\n          } else if (parts[i][0] === VAR && parts[i][1] === ATTR_KEY) {\n            if (typeof parts[i][2] === 'object' && !key) {\n              for (copyKey in parts[i][2]) {\n                if (parts[i][2].hasOwnProperty(copyKey) && !cur[1][copyKey]) {\n                  cur[1][copyKey] = parts[i][2][copyKey]\n                }\n              }\n            } else {\n              key = concat(key, parts[i][2])\n            }\n          } else break\n        }\n        if (parts[i][0] === ATTR_EQ) i++\n        var j = i\n        for (; i < parts.length; i++) {\n          if (parts[i][0] === ATTR_VALUE || parts[i][0] === ATTR_KEY) {\n            if (!cur[1][key]) cur[1][key] = strfn(parts[i][1])\n            else parts[i][1]===\"\" || (cur[1][key] = concat(cur[1][key], parts[i][1]))\n          } else if (parts[i][0] === VAR\n          && (parts[i][1] === ATTR_VALUE || parts[i][1] === ATTR_KEY)) {\n            if (!cur[1][key]) cur[1][key] = strfn(parts[i][2])\n            else parts[i][2]===\"\" || (cur[1][key] = concat(cur[1][key], parts[i][2]))\n          } else {\n            if (key.length && !cur[1][key] && i === j\n            && (parts[i][0] === CLOSE || parts[i][0] === ATTR_BREAK)) {\n              // https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attributes\n              // empty string is falsy, not well behaved value in browser\n              cur[1][key] = key.toLowerCase()\n            }\n            if (parts[i][0] === CLOSE) {\n              i--\n            }\n            break\n          }\n        }\n      } else if (s === ATTR_KEY) {\n        cur[1][p[1]] = true\n      } else if (s === VAR && p[1] === ATTR_KEY) {\n        cur[1][p[2]] = true\n      } else if (s === CLOSE) {\n        if (selfClosing(cur[0]) && stack.length) {\n          var ix = stack[stack.length-1][1]\n          stack.pop()\n          stack[stack.length-1][0][2][ix] = h(\n            cur[0], cur[1], cur[2].length ? cur[2] : undefined\n          )\n        }\n      } else if (s === VAR && p[1] === TEXT) {\n        if (p[2] === undefined || p[2] === null) p[2] = ''\n        else if (!p[2]) p[2] = concat('', p[2])\n        if (Array.isArray(p[2][0])) {\n          cur[2].push.apply(cur[2], p[2])\n        } else {\n          cur[2].push(p[2])\n        }\n      } else if (s === TEXT) {\n        cur[2].push(p[1])\n      } else if (s === ATTR_EQ || s === ATTR_BREAK) {\n        // no-op\n      } else {\n        throw new Error('unhandled: ' + s)\n      }\n    }\n\n    if (tree[2].length > 1 && /^\\s*$/.test(tree[2][0])) {\n      tree[2].shift()\n    }\n\n    if (tree[2].length > 2\n    || (tree[2].length === 2 && /\\S/.test(tree[2][1]))) {\n      throw new Error(\n        'multiple root elements must be wrapped in an enclosing tag'\n      )\n    }\n    if (Array.isArray(tree[2][0]) && typeof tree[2][0][0] === 'string'\n    && Array.isArray(tree[2][0][2])) {\n      tree[2][0] = h(tree[2][0][0], tree[2][0][1], tree[2][0][2])\n    }\n    return tree[2][0]\n\n    function parse (str) {\n      var res = []\n      if (state === ATTR_VALUE_W) state = ATTR\n      for (var i = 0; i < str.length; i++) {\n        var c = str.charAt(i)\n        if (state === TEXT && c === '<') {\n          if (reg.length) res.push([TEXT, reg])\n          reg = ''\n          state = OPEN\n        } else if (c === '>' && !quot(state) && state !== COMMENT) {\n          if (state === OPEN) {\n            res.push([OPEN,reg])\n          } else if (state === ATTR_KEY) {\n            res.push([ATTR_KEY,reg])\n          } else if (state === ATTR_VALUE && reg.length) {\n            res.push([ATTR_VALUE,reg])\n          }\n          res.push([CLOSE])\n          reg = ''\n          state = TEXT\n        } else if (state === COMMENT && /-$/.test(reg) && c === '-') {\n          if (opts.comments) {\n            res.push([ATTR_VALUE,reg.substr(0, reg.length - 1)],[CLOSE])\n          }\n          reg = ''\n          state = TEXT\n        } else if (state === OPEN && /^!--$/.test(reg)) {\n          if (opts.comments) {\n            res.push([OPEN, reg],[ATTR_KEY,'comment'],[ATTR_EQ])\n          }\n          reg = c\n          state = COMMENT\n        } else if (state === TEXT || state === COMMENT) {\n          reg += c\n        } else if (state === OPEN && /\\s/.test(c)) {\n          res.push([OPEN, reg])\n          reg = ''\n          state = ATTR\n        } else if (state === OPEN) {\n          reg += c\n        } else if (state === ATTR && /[^\\s\"'=/]/.test(c)) {\n          state = ATTR_KEY\n          reg = c\n        } else if (state === ATTR && /\\s/.test(c)) {\n          if (reg.length) res.push([ATTR_KEY,reg])\n          res.push([ATTR_BREAK])\n        } else if (state === ATTR_KEY && /\\s/.test(c)) {\n          res.push([ATTR_KEY,reg])\n          reg = ''\n          state = ATTR_KEY_W\n        } else if (state === ATTR_KEY && c === '=') {\n          res.push([ATTR_KEY,reg],[ATTR_EQ])\n          reg = ''\n          state = ATTR_VALUE_W\n        } else if (state === ATTR_KEY) {\n          reg += c\n        } else if ((state === ATTR_KEY_W || state === ATTR) && c === '=') {\n          res.push([ATTR_EQ])\n          state = ATTR_VALUE_W\n        } else if ((state === ATTR_KEY_W || state === ATTR) && !/\\s/.test(c)) {\n          res.push([ATTR_BREAK])\n          if (/[\\w-]/.test(c)) {\n            reg += c\n            state = ATTR_KEY\n          } else state = ATTR\n        } else if (state === ATTR_VALUE_W && c === '\"') {\n          state = ATTR_VALUE_DQ\n        } else if (state === ATTR_VALUE_W && c === \"'\") {\n          state = ATTR_VALUE_SQ\n        } else if (state === ATTR_VALUE_DQ && c === '\"') {\n          res.push([ATTR_VALUE,reg],[ATTR_BREAK])\n          reg = ''\n          state = ATTR\n        } else if (state === ATTR_VALUE_SQ && c === \"'\") {\n          res.push([ATTR_VALUE,reg],[ATTR_BREAK])\n          reg = ''\n          state = ATTR\n        } else if (state === ATTR_VALUE_W && !/\\s/.test(c)) {\n          state = ATTR_VALUE\n          i--\n        } else if (state === ATTR_VALUE && /\\s/.test(c)) {\n          res.push([ATTR_VALUE,reg],[ATTR_BREAK])\n          reg = ''\n          state = ATTR\n        } else if (state === ATTR_VALUE || state === ATTR_VALUE_SQ\n        || state === ATTR_VALUE_DQ) {\n          reg += c\n        }\n      }\n      if (state === TEXT && reg.length) {\n        res.push([TEXT,reg])\n        reg = ''\n      } else if (state === ATTR_VALUE && reg.length) {\n        res.push([ATTR_VALUE,reg])\n        reg = ''\n      } else if (state === ATTR_VALUE_DQ && reg.length) {\n        res.push([ATTR_VALUE,reg])\n        reg = ''\n      } else if (state === ATTR_VALUE_SQ && reg.length) {\n        res.push([ATTR_VALUE,reg])\n        reg = ''\n      } else if (state === ATTR_KEY) {\n        res.push([ATTR_KEY,reg])\n        reg = ''\n      }\n      return res\n    }\n  }\n\n  function strfn (x) {\n    if (typeof x === 'function') return x\n    else if (typeof x === 'string') return x\n    else if (x && typeof x === 'object') return x\n    else return concat('', x)\n  }\n}\n\nfunction quot (state) {\n  return state === ATTR_VALUE_SQ || state === ATTR_VALUE_DQ\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty\nfunction has (obj, key) { return hasOwn.call(obj, key) }\n\nvar closeRE = RegExp('^(' + [\n  'area', 'base', 'basefont', 'bgsound', 'br', 'col', 'command', 'embed',\n  'frame', 'hr', 'img', 'input', 'isindex', 'keygen', 'link', 'meta', 'param',\n  'source', 'track', 'wbr', '!--',\n  // SVG TAGS\n  'animate', 'animateTransform', 'circle', 'cursor', 'desc', 'ellipse',\n  'feBlend', 'feColorMatrix', 'feComposite',\n  'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap',\n  'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR',\n  'feGaussianBlur', 'feImage', 'feMergeNode', 'feMorphology',\n  'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile',\n  'feTurbulence', 'font-face-format', 'font-face-name', 'font-face-uri',\n  'glyph', 'glyphRef', 'hkern', 'image', 'line', 'missing-glyph', 'mpath',\n  'path', 'polygon', 'polyline', 'rect', 'set', 'stop', 'tref', 'use', 'view',\n  'vkern'\n].join('|') + ')(?:[\\.#][a-zA-Z0-9\\u007F-\\uFFFF_:-]+)*$')\nfunction selfClosing (tag) { return closeRE.test(tag) }\n"],"names":["attrToProp","h","tagName","attrs","children","attr","transform","quot","state","ATTR_VALUE_SQ","ATTR_VALUE_DQ","selfClosing","tag","closeRE","test","VAR","TEXT","OPEN","CLOSE","ATTR","ATTR_KEY","ATTR_KEY_W","ATTR_VALUE_W","ATTR_VALUE","ATTR_EQ","ATTR_BREAK","COMMENT","RegExp","join","opts","strfn","x","concat","a","b","String","strings","parse","str","res","i","length","c","charAt","reg","push","comments","substr","arglen","arguments","parts","arg","p","xstate","apply","tree","stack","cur","s","ix","pop","undefined","copyKey","key","hasOwnProperty","j","toLowerCase","Array","isArray","Error","shift"],"mappings":"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"}
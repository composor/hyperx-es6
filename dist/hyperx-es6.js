!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Hyperx={})}(this,function(e){"use strict";var o={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};var F=9,L=10,M=12;var j=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-ï¿¿_:-]+)*$");e.hyperx=function(w,x){x||(x={});var r,A=x.concat||function(e,t){return String(e)+String(t)};return!1!==x.attrToProp&&(r=w,w=function(e,t,n){for(var s in t)s in o&&(t[o[s]]=t[s],delete t[s]);return r(e,t,n)}),function(e){for(var o=1,f="",t=arguments.length,n=[],s=0;s<e.length;s++)if(s<t-1){var r=arguments[s+1],i=b(e[s]),h=o;h===L&&(h=8),h===F&&(h=8),7===h&&(h=8),4===h&&(h=5),i.push([0,h,r]),n.push.apply(n,i)}else n.push.apply(n,b(e[s]));var l,p=[null,{},[]],u=[[p,-1]];for(s=0;s<n.length;s++){var a=u[u.length-1][0],g=(i=n[s])[0];if(2===g&&/^\//.test(i[1])){var c=u[u.length-1][1];1<u.length&&(u.pop(),u[u.length-1][0][2][c]=w(a[0],a[1],a[2].length?a[2]:void 0))}else if(2===g){var m=[i[1],{},[]];a[2].push(m),u.push([m,a[2].length-1])}else if(5===g||0===g&&5===i[1]){for(var y,v="";s<n.length;s++)if(5===n[s][0])v=A(v,n[s][1]);else{if(0!==n[s][0]||5!==n[s][1])break;if("object"!=typeof n[s][2]||v)v=A(v,n[s][2]);else for(y in n[s][2])n[s][2].hasOwnProperty(y)&&!a[1][y]&&(a[1][y]=n[s][2][y])}11===n[s][0]&&s++;for(var d=s;s<n.length;s++)if(8===n[s][0]||5===n[s][0])a[1][v]?""===n[s][1]||(a[1][v]=A(a[1][v],n[s][1])):a[1][v]=k(n[s][1]);else{if(0!==n[s][0]||8!==n[s][1]&&5!==n[s][1]){!v.length||a[1][v]||s!==d||3!==n[s][0]&&n[s][0]!==M||(a[1][v]=v.toLowerCase()),3===n[s][0]&&s--;break}a[1][v]?""===n[s][2]||(a[1][v]=A(a[1][v],n[s][2])):a[1][v]=k(n[s][2])}}else if(5===g)a[1][i[1]]=!0;else if(0===g&&5===i[1])a[1][i[2]]=!0;else if(3===g)l=a[0],j.test(l)&&u.length&&(c=u[u.length-1][1],u.pop(),u[u.length-1][0][2][c]=w(a[0],a[1],a[2].length?a[2]:void 0));else if(0===g&&1===i[1])void 0===i[2]||null===i[2]?i[2]="":i[2]||(i[2]=A("",i[2])),Array.isArray(i[2][0])?a[2].push.apply(a[2],i[2]):a[2].push(i[2]);else if(1===g)a[2].push(i[1]);else if(11!==g&&g!==M)throw new Error("unhandled: "+g)}if(1<p[2].length&&/^\s*$/.test(p[2][0])&&p[2].shift(),2<p[2].length||2===p[2].length&&/\S/.test(p[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(p[2][0])&&"string"==typeof p[2][0][0]&&Array.isArray(p[2][0][2])&&(p[2][0]=w(p[2][0][0],p[2][0][1],p[2][0][2])),p[2][0];function b(e){var t,n=[];7===o&&(o=4);for(var s=0;s<e.length;s++){var r=e.charAt(s);1===o&&"<"===r?(f.length&&n.push([1,f]),f="",o=2):">"===r&&(t=o)!==F&&t!==L&&13!==o?(2===o?n.push([2,f]):5===o?n.push([5,f]):8===o&&f.length&&n.push([8,f]),n.push([3]),f="",o=1):13===o&&/-$/.test(f)&&"-"===r?(x.comments&&n.push([8,f.substr(0,f.length-1)],[3]),f="",o=1):2===o&&/^!--$/.test(f)?(x.comments&&n.push([2,f],[5,"comment"],[11]),f=r,o=13):1===o||13===o?f+=r:2===o&&"/"===r&&f.length||(2===o&&/\s/.test(r)?(n.push([2,f]),f="",o=4):2===o?f+=r:4===o&&/[^\s"'=/]/.test(r)?(o=5,f=r):4===o&&/\s/.test(r)?(f.length&&n.push([5,f]),n.push([M])):5===o&&/\s/.test(r)?(n.push([5,f]),f="",o=6):5===o&&"="===r?(n.push([5,f],[11]),f="",o=7):5===o?f+=r:6!==o&&4!==o||"="!==r?6!==o&&4!==o||/\s/.test(r)?7===o&&'"'===r?o=L:7===o&&"'"===r?o=F:o===L&&'"'===r?(n.push([8,f],[M]),f="",o=4):o===F&&"'"===r?(n.push([8,f],[M]),f="",o=4):7!==o||/\s/.test(r)?8===o&&/\s/.test(r)?(n.push([8,f],[M]),f="",o=4):8!==o&&o!==F&&o!==L||(f+=r):(o=8,s--):(n.push([M]),o=/[\w-]/.test(r)?(f+=r,5):4):(n.push([11]),o=7))}return 1===o&&f.length?(n.push([1,f]),f=""):8===o&&f.length?(n.push([8,f]),f=""):o===L&&f.length?(n.push([8,f]),f=""):o===F&&f.length?(n.push([8,f]),f=""):5===o&&(n.push([5,f]),f=""),n}};function k(e){return"function"==typeof e?e:"string"==typeof e?e:e&&"object"==typeof e?e:A("",e)}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=hyperx-es6.js.map

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Hyperx={})}(this,function(e){"use strict";function t(e){return function(t,n,r){for(var f in n)f in s&&(n[s[f]]=n[f],delete n[f]);return e(t,n,r)}}function n(e){return e===c||e===m}function r(e){return b.test(e)}var s={class:"className",for:"htmlFor","http-equiv":"httpEquiv"},f=0,o=1,i=2,h=3,l=4,u=5,p=6,a=7,g=8,c=9,m=10,y=11,d=12,v=13,b=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-ï¿¿_:-]+)*$");e.hyperx=function(e,s){function b(e){return"function"==typeof e?e:"string"==typeof e?e:e&&"object"==typeof e?e:w("",e)}s||(s={});var w=s.concat||function(e,t){return String(e)+String(t)};return!1!==s.attrToProp&&(e=t(e)),function(t){function x(e){var t=[];A===a&&(A=l);for(var r=0;r<e.length;r++){var f=e.charAt(r);A===o&&"<"===f?(k.length&&t.push([o,k]),k="",A=i):">"!==f||n(A)||A===v?A===v&&/-$/.test(k)&&"-"===f?(s.comments&&t.push([g,k.substr(0,k.length-1)],[h]),k="",A=o):A===i&&/^!--$/.test(k)?(s.comments&&t.push([i,k],[u,"comment"],[y]),k=f,A=v):A===o||A===v?k+=f:A===i&&/\s/.test(f)?(t.push([i,k]),k="",A=l):A===i?k+=f:A===l&&/[^\s"'=/]/.test(f)?(A=u,k=f):A===l&&/\s/.test(f)?(k.length&&t.push([u,k]),t.push([d])):A===u&&/\s/.test(f)?(t.push([u,k]),k="",A=p):A===u&&"="===f?(t.push([u,k],[y]),k="",A=a):A===u?k+=f:A!==p&&A!==l||"="!==f?A!==p&&A!==l||/\s/.test(f)?A===a&&'"'===f?A=m:A===a&&"'"===f?A=c:A===m&&'"'===f?(t.push([g,k],[d]),k="",A=l):A===c&&"'"===f?(t.push([g,k],[d]),k="",A=l):A!==a||/\s/.test(f)?A===g&&/\s/.test(f)?(t.push([g,k],[d]),k="",A=l):A!==g&&A!==c&&A!==m||(k+=f):(A=g,r--):(t.push([d]),/[\w-]/.test(f)?(k+=f,A=u):A=l):(t.push([y]),A=a):(A===i?t.push([i,k]):A===u?t.push([u,k]):A===g&&k.length&&t.push([g,k]),t.push([h]),k="",A=o)}return A===o&&k.length?(t.push([o,k]),k=""):A===g&&k.length?(t.push([g,k]),k=""):A===m&&k.length?(t.push([g,k]),k=""):A===c&&k.length?(t.push([g,k]),k=""):A===u&&(t.push([u,k]),k=""),t}for(var A=o,k="",F=arguments.length,L=[],M=0;M<t.length;M++)if(M<F-1){var j=arguments[M+1],S=x(t[M]),C=A;C===m&&(C=g),C===c&&(C=g),C===a&&(C=g),C===l&&(C=u),S.push([f,C,j]),L.push.apply(L,S)}else L.push.apply(L,x(t[M]));for(var E=[null,{},[]],P=[[E,-1]],M=0;M<L.length;M++){var T=P[P.length-1][0],$=(S=L[M])[0];if($===i&&/^\//.test(S[1]))_=P[P.length-1][1],P.length>1&&(P.pop(),P[P.length-1][0][2][_]=e(T[0],T[1],T[2].length?T[2]:void 0));else if($===i){var B=[S[1],{},[]];T[2].push(B),P.push([B,T[2].length-1])}else if($===u||$===f&&S[1]===u){for(var D,O="";M<L.length;M++)if(L[M][0]===u)O=w(O,L[M][1]);else{if(L[M][0]!==f||L[M][1]!==u)break;if("object"!=typeof L[M][2]||O)O=w(O,L[M][2]);else for(D in L[M][2])L[M][2].hasOwnProperty(D)&&!T[1][D]&&(T[1][D]=L[M][2][D])}L[M][0]===y&&M++;for(var R=M;M<L.length;M++)if(L[M][0]===g||L[M][0]===u)T[1][O]?T[1][O]=w(T[1][O],L[M][1]):T[1][O]=b(L[M][1]);else{if(L[M][0]!==f||L[M][1]!==g&&L[M][1]!==u){!O.length||T[1][O]||M!==R||L[M][0]!==h&&L[M][0]!==d||(T[1][O]=O.toLowerCase()),L[M][0]===h&&M--;break}T[1][O]?T[1][O]=w(T[1][O],L[M][2]):T[1][O]=b(L[M][2])}}else if($===u)T[1][S[1]]=!0;else if($===f&&S[1]===u)T[1][S[2]]=!0;else if($===h){if(r(T[0])&&P.length){var _=P[P.length-1][1];P.pop(),P[P.length-1][0][2][_]=e(T[0],T[1],T[2].length?T[2]:void 0)}}else if($===f&&S[1]===o)void 0===S[2]||null===S[2]?S[2]="":S[2]||(S[2]=w("",S[2])),Array.isArray(S[2][0])?T[2].push.apply(T[2],S[2]):T[2].push(S[2]);else if($===o)T[2].push(S[1]);else if($!==y&&$!==d)throw new Error("unhandled: "+$)}if(E[2].length>1&&/^\s*$/.test(E[2][0])&&E[2].shift(),E[2].length>2||2===E[2].length&&/\S/.test(E[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(E[2][0])&&"string"==typeof E[2][0][0]&&Array.isArray(E[2][0][2])&&(E[2][0]=e(E[2][0][0],E[2][0][1],E[2][0][2])),E[2][0]}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=hyperx-es6.js.map

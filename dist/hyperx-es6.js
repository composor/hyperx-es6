!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Hyperx={})}(this,function(e){"use strict";var t={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};var n=0,s=1,r=2,o=3,f=4,i=5,h=6,l=7,p=8,u=9,a=10,g=11,c=12,m=13;var y=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-ï¿¿_:-]+)*$");e.hyperx=function(e,v){v||(v={});var d,b=v.concat||function(e,t){return String(e)+String(t)};return!1!==v.attrToProp&&(d=e,e=function(e,n,s){for(var r in n)r in t&&(n[t[r]]=n[r],delete n[r]);return d(e,n,s)}),function(t){for(var d=s,x="",A=arguments.length,k=[],F=0;F<t.length;F++)if(F<A-1){var L=arguments[F+1],M=_(t[F]),j=d;j===a&&(j=p),j===u&&(j=p),j===l&&(j=p),j===f&&(j=i),M.push([n,j,L]),k.push.apply(k,M)}else k.push.apply(k,_(t[F]));var S,C=[null,{},[]],E=[[C,-1]];for(F=0;F<k.length;F++){var P=E[E.length-1][0],T=(M=k[F])[0];if(T===r&&/^\//.test(M[1])){var $=E[E.length-1][1];E.length>1&&(E.pop(),E[E.length-1][0][2][$]=e(P[0],P[1],P[2].length?P[2]:void 0))}else if(T===r){var B=[M[1],{},[]];P[2].push(B),E.push([B,P[2].length-1])}else if(T===i||T===n&&M[1]===i){for(var D,O="";F<k.length;F++)if(k[F][0]===i)O=b(O,k[F][1]);else{if(k[F][0]!==n||k[F][1]!==i)break;if("object"!=typeof k[F][2]||O)O=b(O,k[F][2]);else for(D in k[F][2])k[F][2].hasOwnProperty(D)&&!P[1][D]&&(P[1][D]=k[F][2][D])}k[F][0]===g&&F++;for(var R=F;F<k.length;F++)if(k[F][0]===p||k[F][0]===i)P[1][O]?""===k[F][1]||(P[1][O]=b(P[1][O],k[F][1])):P[1][O]=w(k[F][1]);else{if(k[F][0]!==n||k[F][1]!==p&&k[F][1]!==i){!O.length||P[1][O]||F!==R||k[F][0]!==o&&k[F][0]!==c||(P[1][O]=O.toLowerCase()),k[F][0]===o&&F--;break}P[1][O]?""===k[F][2]||(P[1][O]=b(P[1][O],k[F][2])):P[1][O]=w(k[F][2])}}else if(T===i)P[1][M[1]]=!0;else if(T===n&&M[1]===i)P[1][M[2]]=!0;else if(T===o)S=P[0],y.test(S)&&E.length&&($=E[E.length-1][1],E.pop(),E[E.length-1][0][2][$]=e(P[0],P[1],P[2].length?P[2]:void 0));else if(T===n&&M[1]===s)void 0===M[2]||null===M[2]?M[2]="":M[2]||(M[2]=b("",M[2])),Array.isArray(M[2][0])?P[2].push.apply(P[2],M[2]):P[2].push(M[2]);else if(T===s)P[2].push(M[1]);else if(T!==g&&T!==c)throw new Error("unhandled: "+T)}if(C[2].length>1&&/^\s*$/.test(C[2][0])&&C[2].shift(),C[2].length>2||2===C[2].length&&/\S/.test(C[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(C[2][0])&&"string"==typeof C[2][0][0]&&Array.isArray(C[2][0][2])&&(C[2][0]=e(C[2][0][0],C[2][0][1],C[2][0][2])),C[2][0];function _(e){var t,n=[];d===l&&(d=f);for(var y=0;y<e.length;y++){var b=e.charAt(y);d===s&&"<"===b?(x.length&&n.push([s,x]),x="",d=r):">"===b&&(t=d)!==u&&t!==a&&d!==m?(d===r?n.push([r,x]):d===i?n.push([i,x]):d===p&&x.length&&n.push([p,x]),n.push([o]),x="",d=s):d===m&&/-$/.test(x)&&"-"===b?(v.comments&&n.push([p,x.substr(0,x.length-1)],[o]),x="",d=s):d===r&&/^!--$/.test(x)?(v.comments&&n.push([r,x],[i,"comment"],[g]),x=b,d=m):d===s||d===m?x+=b:d===r&&"/"===b&&x.length||(d===r&&/\s/.test(b)?(n.push([r,x]),x="",d=f):d===r?x+=b:d===f&&/[^\s"'=/]/.test(b)?(d=i,x=b):d===f&&/\s/.test(b)?(x.length&&n.push([i,x]),n.push([c])):d===i&&/\s/.test(b)?(n.push([i,x]),x="",d=h):d===i&&"="===b?(n.push([i,x],[g]),x="",d=l):d===i?x+=b:d!==h&&d!==f||"="!==b?d!==h&&d!==f||/\s/.test(b)?d===l&&'"'===b?d=a:d===l&&"'"===b?d=u:d===a&&'"'===b?(n.push([p,x],[c]),x="",d=f):d===u&&"'"===b?(n.push([p,x],[c]),x="",d=f):d!==l||/\s/.test(b)?d===p&&/\s/.test(b)?(n.push([p,x],[c]),x="",d=f):d!==p&&d!==u&&d!==a||(x+=b):(d=p,y--):(n.push([c]),/[\w-]/.test(b)?(x+=b,d=i):d=f):(n.push([g]),d=l))}return d===s&&x.length?(n.push([s,x]),x=""):d===p&&x.length?(n.push([p,x]),x=""):d===a&&x.length?(n.push([p,x]),x=""):d===u&&x.length?(n.push([p,x]),x=""):d===i&&(n.push([i,x]),x=""),n}};function w(e){return"function"==typeof e?e:"string"==typeof e?e:e&&"object"==typeof e?e:b("",e)}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=hyperx-es6.js.map
